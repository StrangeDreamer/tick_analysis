# 项目结构说明

## 📁 核心文件

### Python 脚本
```
quant_analysis.py          # 核心分析引擎（V8.0）
start_analysis.py          # 循环执行调度器
scheduler.py               # 高频循环调度器
test_connection.py         # API连接测试工具
quick_test.py              # 快速测试脚本
test_data_source_comparison.py  # 数据源对比测试
```

### 启动脚本

#### macOS/Linux
```
run.sh                     # 主启动脚本 ⭐（test/loop/force）
start_scheduler.sh         # scheduler.py 启动器
tick_system.sh            # 数据采集系统管理
```

#### Windows
```
run_win.bat               # CMD 主启动脚本 ⭐（test/loop/force）
run_win.ps1               # PowerShell 主启动脚本 ⭐（test/loop/force）
```

### 配置文件
```
requirements.txt          # Python 依赖列表
.gitignore               # Git 忽略规则
```

### 文档
```
README.md                # 主要文档
使用说明.md              # macOS/Linux 使用指南
Windows使用指南.md       # Windows 使用指南
跨平台使用对比.md        # 跨平台对比表
项目结构说明.md          # 本文件
README_POWERSHELL.md     # PowerShell 相关说明
```

---

## 📂 运行时生成的文件/目录

### 虚拟环境
```
venv/                    # Python 虚拟环境（需自行创建）
.venv/                   # 备选虚拟环境名称
```

### 缓存文件
```
hot_stocks_cache.json           # 热门股票缓存（每日，唯一缓存文件）
```

### 数据目录
```
tick_cache/              # Tick数据历史记录
  └── SH600000_2026-02-05_history.csv
charts/                  # 生成的图表（如果有）
tick_data/              # 数据采集系统数据（如果使用）
```

---

## 🎯 文件用途说明

### 主要启动方式

| 用途 | macOS/Linux | Windows |
|------|-------------|---------|
| **推荐使用** | `./run.sh` | `run_win.bat` 或 `run_win.ps1` |
| **单次测试** | `./run.sh test` | `run_win.bat test` |
| **循环运行** | `./run.sh loop` | `run_win.bat loop` |
| **强制循环** | `./run.sh force` | `run_win.bat force` |

### 特殊用途脚本

| 脚本 | 用途 |
|------|------|
| `scheduler.py` | 高频循环模式（上一轮完成立即执行下一轮） |
| `start_scheduler.sh` | 启动 scheduler.py |
| `tick_system.sh` | 数据采集系统管理工具 |
| `test_connection.py` | 测试API连接状态 |
| `quick_test.py` | 快速测试筛选逻辑 |

---

## 🗑️ 已删除的过时文件

以下文件已被更强大的新版本替代：

| 删除的文件 | 替代方案 | 原因 |
|-----------|---------|------|
| `run.bat` | `run_win.bat` | 功能简单，已被功能完整版替代 |
| `run.ps1` | `run_win.ps1` | 功能简单，已被功能完整版替代 |
| `start.bat` | `run_win.bat loop` | 重复功能 |
| `start.ps1` | `run_win.ps1 loop` | 重复功能 |

---

## 📖 文档索引

### 新手入门
1. 先看：[README.md](./README.md) - 了解系统概述
2. macOS/Linux：[使用说明.md](./使用说明.md)
3. Windows：[Windows使用指南.md](./Windows使用指南.md)

### 进阶使用
- 跨平台对比：[跨平台使用对比.md](./跨平台使用对比.md)
- 问题排查：查看各平台使用指南中的"常见问题"章节

### API问题
- 网络连接问题：[使用说明.md](./使用说明.md) 中的"问题解决记录"
- 测试工具：运行 `test_connection.py`

---

## 🎨 推荐工作流

### 首次使用
```bash
# 1. 创建虚拟环境
python -m venv venv

# 2. 激活虚拟环境
source venv/bin/activate     # macOS/Linux
venv\Scripts\activate.bat    # Windows

# 3. 安装依赖
pip install -r requirements.txt

# 4. 测试连接
python test_connection.py

# 5. 单次测试
./run.sh test                # macOS/Linux
run_win.bat test             # Windows
```

### 日常使用
```bash
# 开市时间运行（推荐）
./run.sh loop                # macOS/Linux
run_win.bat loop             # Windows

# 或 24小时运行（测试/开发用）
./run.sh force               # macOS/Linux
run_win.bat force            # Windows
```

---

## ✅ 文件清单（整理后）

**总计文件数：** 
- Python脚本：6个
- Shell脚本（Linux/macOS）：3个  
- 批处理脚本（Windows）：2个
- 文档：6个
- 配置：2个

**项目更精简、更清晰！** 🎉


🔍 接口分析：ak.stock_cyq_em(symbol="000001", adjust="hfq")

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 接口说明：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

接口名称: stock_cyq_em
参数: symbol="000001", adjust="hfq"
数据来源: 东方财富网
数据类型: 筹码分布（CYQ - 成本分布）

含义: 
  返回股票的历史筹码分布数据
  显示不同价位的持仓成本分布情况
  用于分析主力资金的成本区间

adjust参数:
  • "qfq" - 前复权
  • "hfq" - 后复权
  • ""    - 不复权

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 返回数据字段：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 日期 (object)
   - 交易日期
   - 格式: datetime.date
   - 范围: 2025-06-13 ~ 2025-10-24（最近90个交易日）

2. 获利比例 (float64) ⭐⭐⭐⭐⭐
   - 当前价格下的获利盘比例
   - 范围: 0.00 ~ 1.00（0% ~ 100%）
   - 平均: 0.70（70%）
   - 含义: 有多少持仓在当前价格以下买入

3. 平均成本 (float64) ⭐⭐⭐⭐⭐
   - 所有持仓的平均成本价
   - 单位: 元
   - 范围: 1751.22 ~ 1832.48 元
   - 平均: 1792.41 元
   - 含义: 市场平均持仓成本

4. 90成本-低 (float64) ⭐⭐⭐⭐
   - 90%筹码的成本区间下限
   - 单位: 元
   - 范围: 1676.68 ~ 1692.34 元
   - 含义: 90%的筹码成本在这个价格以上

5. 90成本-高 (float64) ⭐⭐⭐⭐
   - 90%筹码的成本区间上限
   - 单位: 元
   - 范围: 1801.88 ~ 1980.70 元
   - 含义: 90%的筹码成本在这个价格以下

6. 90集中度 (float64) ⭐⭐⭐⭐⭐
   - 90%筹码的集中程度
   - 范围: 0.036 ~ 0.082
   - 平均: 0.070
   - 计算: (90成本-高 - 90成本-低) / 平均成本
   - 含义: 值越小，筹码越集中

7. 70成本-低 (float64) ⭐⭐⭐
   - 70%筹码的成本区间下限
   - 单位: 元
   - 范围: 1694.37 ~ 1743.54 元

8. 70成本-高 (float64) ⭐⭐⭐
   - 70%筹码的成本区间上限
   - 单位: 元
   - 范围: 1788.27 ~ 1932.19 元

9. 70集中度 (float64) ⭐⭐⭐⭐
   - 70%筹码的集中程度
   - 范围: 0.027 ~ 0.058
   - 平均: 0.046
   - 含义: 值越小，筹码越集中

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 数据特点：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 数据量: 90条记录（约90个交易日）
✅ 时间跨度: 2025-06-13 ~ 2025-10-24
✅ 数据完整: 无缺失值
✅ 更新频率: 每日更新

核心价值:
  - 显示市场持仓成本分布
  - 识别主力资金成本区间
  - 判断当前价格位置
  - 评估获利盘压力

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔥 典型案例（以000001为例）：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

最新数据（2025-10-24）:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  • 日期: 2025-10-24
  • 获利比例: 60.86%
  • 平均成本: 1816.31 元
  • 90%成本区间: 1692.34 ~ 1951.06 元
  • 90%集中度: 0.071（7.1%）
  • 70%成本区间: 1743.54 ~ 1910.63 元
  • 70%集中度: 0.046（4.6%）

解读:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  • 获利比例60.86% → 约60%的筹码是获利的
  • 平均成本1816.31元 → 市场平均持仓成本
  • 90%成本在1692~1951元 → 大部分筹码分布区间
  • 集中度0.071 → 筹码相对分散
  • 如果当前价格1900元:
    - 在平均成本(1816元)之上 → 多数人获利
    - 接近90%上限(1951元) → 接近前期高位
    - 压力较大

历史对比:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  • 6月13日: 获利比例97.29%（接近全部获利）
  • 10月13日: 获利比例37.68%（最低点，恐慌盘）
  • 10月24日: 获利比例60.86%（回升中）

趋势:
  - 6月份：高位，获利盘极多
  - 10月中：调整，获利盘大减
  - 10月底：反弹，获利盘回升

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 应用场景：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

场景1: 识别主力成本区间 ⭐⭐⭐⭐⭐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
筛选逻辑:
  - 使用70%或90%成本区间
  - 主力通常在此区间建仓
  - 当前价格接近此区间 → 支撑/压力强

判断标准:
  ✅ 当前价格 < 70成本-低 → 超跌，支撑强
  ✅ 当前价格 ≈ 平均成本 → 平衡位置
  ❌ 当前价格 > 90成本-高 → 透支，压力大

场景2: 评估获利盘压力 ⭐⭐⭐⭐⭐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
筛选逻辑:
  - 获利比例越高 → 卖压越大
  - 获利比例越低 → 卖压越小

判断标准:
  ✅ 获利比例 < 30% → 卖压小，易上涨
  ⚠️ 获利比例 30-70% → 中等卖压
  ❌ 获利比例 > 70% → 卖压大，易回调

场景3: 判断筹码集中度 ⭐⭐⭐⭐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
筛选逻辑:
  - 集中度越小 → 筹码越集中 → 主力控盘强
  - 集中度越大 → 筹码越分散 → 散户居多

判断标准:
  ✅ 90集中度 < 0.05 → 高度集中（主力控盘）
  ⚠️ 90集中度 0.05-0.08 → 中度集中
  ❌ 90集中度 > 0.08 → 高度分散

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🚀 与现有系统集成建议：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

方案1: 作为辅助筛选条件 ⭐⭐⭐⭐⭐ 强烈推荐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
使用场景:
  - 在现有热门股票基础上
  - 增加筹码分布验证
  - 筛选获利盘压力小的股票

筛选条件建议:
  • 获利比例 < 50%（卖压小）
  • 90集中度 < 0.08（不太分散）
  • 当前价格 > 平均成本（趋势向上）
  
优点:
  ✅ 避免高位追涨（获利盘过多）
  ✅ 识别主力控盘股（集中度高）
  ✅ 找到支撑位置（成本区间）
  ✅ 提升选股成功率

方案2: 作为评分加分项 ⭐⭐⭐⭐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
使用场景:
  - 在现有评分系统中
  - 增加筹码分布评分
  - 综合评估股票质量

评分规则:
  • 获利比例 < 30%: +10分
  • 获利比例 30-50%: +5分
  • 90集中度 < 0.05: +10分
  • 90集中度 0.05-0.08: +5分
  • 当前价格 > 平均成本: +5分

方案3: 独立分析报告 ⭐⭐⭐
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
使用场景:
  - 对自定义股票池生成筹码报告
  - 分析主力成本区间
  - 评估当前价格位置

报告内容:
  • 平均成本vs当前价格
  • 获利比例（卖压评估）
  • 成本区间（支撑/压力位）
  • 集中度（主力控盘程度）
  • 历史趋势变化

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚡ 性能说明：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

接口调用时间:
  - 单只股票: < 1秒
  - 批量100只: 约2分钟
  - 数据量小，速度快

缓存建议:
  ✅ 每日缓存一次
  ✅ 数据量小（90条记录）
  ✅ 不需要实时更新

优化方案:
  - 批量获取时使用多线程
  - 每日缓存筹码数据
  - 只在需要时调用

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📝 代码示例：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

import akshare as ak

# 获取筹码分布数据
df = ak.stock_cyq_em(symbol='000001', adjust='hfq')

# 获取最新数据
latest = df.iloc[-1]

print(f"股票: 000001")
print(f"日期: {latest['日期']}")
print(f"平均成本: {latest['平均成本']:.2f} 元")
print(f"获利比例: {latest['获利比例']:.2%}")
print(f"90%成本区间: {latest['90成本-低']:.2f} ~ {latest['90成本-高']:.2f} 元")
print(f"90%集中度: {latest['90集中度']:.2%}")

# 判断当前价格位置（假设当前价1900元）
current_price = 1900
avg_cost = latest['平均成本']
profit_ratio = latest['获利比例']

if current_price > avg_cost * 1.05:
    print("✅ 当前价格远高于平均成本，趋势强势")
elif current_price > avg_cost:
    print("⚠️ 当前价格略高于平均成本，谨慎追高")
else:
    print("❌ 当前价格低于平均成本，支撑区域")

if profit_ratio < 0.3:
    print("✅ 获利盘少，卖压小")
elif profit_ratio < 0.7:
    print("⚠️ 获利盘适中")
else:
    print("❌ 获利盘多，卖压大")

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️ 注意事项：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 数据时效性 ⚠️
   - 每日更新一次
   - 不是实时数据
   - 需要次日才能看到今日数据

2. 复权选择
   - 后复权(hfq): 看绝对价格
   - 前复权(qfq): 看相对涨跌
   - 不复权(""): 原始价格

3. 筹码分布局限性
   - 基于历史成交推算
   - 不是实际持仓数据
   - 仅供参考

4. 股票代码格式
   - 纯6位数字（000001）
   - 不需要SH/SZ前缀

5. 数据完整性
   - 新股可能数据不足
   - 停牌期间无数据
   - 需要检查数据是否完整

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 推荐程度：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⭐⭐⭐⭐⭐ 强烈推荐作为辅助筛选条件

理由:
  ✅ 数据权威（东方财富）
  ✅ 更新及时（每日更新）
  ✅ 含义清晰（筹码分布）
  ✅ 易于理解（成本区间）
  ✅ 易于集成（单个API调用）
  ✅ 效果显著（避免高位追涨）

推荐用途:
  ✅ 筛选获利盘少的股票 ⭐⭐⭐⭐⭐
  ✅ 识别主力控盘股 ⭐⭐⭐⭐
  ✅ 找到支撑/压力位 ⭐⭐⭐⭐
  ✅ 作为评分加分项 ⭐⭐⭐⭐
  ❌ 不适合作为唯一选股标准

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 接口对比总结：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

推荐度排序:

1. stock_rank_ljqs_ths ⭐⭐⭐⭐⭐
   - 量价齐升（主力选股源）
   - 当前在用

2. stock_cyq_em ⭐⭐⭐⭐⭐ 新增推荐
   - 筹码分布（辅助筛选）
   - 避免高位追涨
   - 识别主力成本

3. stock_ggcg_em ⭐⭐⭐⭐
   - 股东减持（负面筛选）
   - 当前在用

建议组合:
  主力: stock_rank_ljqs_ths（量价齐升）
  辅助: stock_cyq_em（筹码验证）
  负面: stock_ggcg_em（减持排除）

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 总结：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

stock_cyq_em 是一个非常有价值的辅助接口！

✅ 优点：
  • 显示持仓成本分布
  • 识别主力成本区间
  • 评估获利盘压力
  • 判断支撑/压力位
  • 数据权威、易用

⚠️ 缺点：
  • 非实时数据（次日更新）
  • 基于推算（非实际持仓）
  • 调用耗时（批量时需优化）

🎯 建议：
  作为辅助筛选条件集成到现有系统中，
  筛选获利盘少、筹码集中的股票，
  可显著提升选股成功率！

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

